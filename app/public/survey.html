<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Fiend Finder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Pangolin" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>

<body>
    <div>
        <h1>Fiend Finder</h1>
    </div>
    <div>
        <form>
            <fieldset class="ui-grid-a">
                <div class="ui-corner-all ui-bar form-group form-control ui-block-a ">
                    <label for="name">Your Name</label>
                    <input type="text" class="form-control ui-bar" id="name" value="blah" placeholder="What Is Your Name?">
                </div>
                <div class="ui-corner-all  form-group form-control ui-block-b">
                    <label for="exampleInputPassword1">Link a photo</label>
                    <input type="text" class="form-control ui-bar" id="photo" value="http://steveraaen.com/wp-content/uploads/2014/03/selfie1-e1395770364867.jpg" placeholder="Paste URL of Photo">
                </div>
            </fieldset>
            <fieldset data-role="controlgroup" class="ui-bar ui-corner-all q" id="res1" data-type="horizontal">
                <div class="ui-grid-d">
                    <div class="ui-block-a"><strong>Disagree</strong></div>
                    <div class="ui-block-b"></div>
                    <div class="ui-block-c"></div>
                    <div class="ui-block-d"></div>
                    <div class="ui-block-e"><strong>Agree</strong></div>
                    <div class="ui-block-a"><strong>1</strong>
                        <label>
                            <input type="radio" value="1" name="1radio-1">
                        </label>
                    </div>
                    <div class="ui-block-b"><strong>2</strong>
                        <label>
                            <input type="radio" value="2" name="1radio-2">
                        </label>
                    </div>
                    <div class="ui-block-c"><strong>3</strong>
                        <label>
                            <input type="radio" value="3" checked="checked" name="1radio-3">
                        </label>
                    </div>
                    <div class="ui-block-d"><strong>4</strong>
                        <label>
                            <input type="radio" value="4" name="1radio-4">
                        </label>
                    </div>
                    <div class="ui-block-e"><strong>5</strong>
                        <label>
                            <input type="radio" value="5" name="1radio-5">
                        </label>
                    </div>
                </div>
            </fieldset>
            <fieldset data-role="controlgroup" class="ui-bar ui-corner-all q" id="res2" data-type="horizontal">
                <div class="ui-grid-d">
                    <div class="ui-block-a"><strong>Disagree</strong></div>
                    <div class="ui-block-b"></div>
                    <div class="ui-block-c"></div>
                    <div class="ui-block-d"></div>
                    <div class="ui-block-e"><strong>Agree</strong></div>
                    <div class="ui-block-a"><strong>1</strong>
                        <label>
                            <input type="radio" value="1" name="2radio-1">
                        </label>
                    </div>
                    <div class="ui-block-b"><strong>2</strong>
                        <label>
                            <input type="radio" value="2" name="2radio-2">
                        </label>
                    </div>
                    <div class="ui-block-c"><strong>3</strong>
                        <label>
                            <input type="radio" value="3" checked="checked" name="2radio-3">
                        </label>
                    </div>
                    <div class="ui-block-d"><strong>4</strong>
                        <label>
                            <input type="radio" value="4" name="2radio-4">
                        </label>
                    </div>
                    <div class="ui-block-e"><strong>5</strong>
                        <label>
                            <input type="radio" value="5" name="2radio-5">
                        </label>
                    </div>
                </div>
            </fieldset>
            <fieldset data-role="controlgroup" class="ui-bar ui-corner-all q" id="res3" data-type="horizontal">
                <div class="ui-grid-d">
                    <div class="ui-block-a"><strong>Disagree</strong></div>
                    <div class="ui-block-b"></div>
                    <div class="ui-block-c"></div>
                    <div class="ui-block-d"></div>
                    <div class="ui-block-e"><strong>Agree</strong></div>
                    <div class="ui-block-a"><strong>1</strong>
                        <label>
                            <input type="radio" value="1" name="3radio-1">
                        </label>
                    </div>
                    <div class="ui-block-b"><strong>2</strong>
                        <label>
                            <input type="radio" value="2" name="3radio-2">
                        </label>
                    </div>
                    <div class="ui-block-c"><strong>3</strong>
                        <label>
                            <input type="radio" value="3" checked="checked" name="3radio-3">
                        </label>
                    </div>
                    <div class="ui-block-d"><strong>4</strong>
                        <label>
                            <input type="radio" value="4" name="3radio-4">
                        </label>
                    </div>
                    <div class="ui-block-e"><strong>5</strong>
                        <label>
                            <input type="radio" value="5" name="3radio-5">
                        </label>
                    </div>
                </div>
            </fieldset>
            <fieldset data-role="controlgroup" class="ui-bar ui-corner-all q" id="res4" data-type="horizontal">
                <div class="ui-grid-d">
                    <div class="ui-block-a"><strong>Disagree</strong></div>
                    <div class="ui-block-b"></div>
                    <div class="ui-block-c"></div>
                    <div class="ui-block-d"></div>
                    <div class="ui-block-e"><strong>Agree</strong></div>
                    <div class="ui-block-a"><strong>1</strong>
                        <label>
                            <input type="radio" value="1" name="4radio-1">
                        </label>
                    </div>
                    <div class="ui-block-b"><strong>2</strong>
                        <label>
                            <input type="radio" value="2" name="4radio-2">
                        </label>
                    </div>
                    <div class="ui-block-c"><strong>3</strong>
                        <label>
                            <input type="radio" value="3" checked="checked" name="4radio-3">
                        </label>
                    </div>
                    <div class="ui-block-d"><strong>4</strong>
                        <label>
                            <input type="radio" value="4" name="4radio-4">
                        </label>
                    </div>
                    <div class="ui-block-e"><strong>5</strong>
                        <label>
                            <input type="radio" value="5" name="4radio-5">
                        </label>
                    </div>
                </div>
            </fieldset>
            <fieldset data-role="controlgroup" class="ui-bar ui-corner-all q" id="res5" data-type="horizontal">
                <div class="ui-grid-d">
                    <div class="ui-block-a"><strong>Disagree</strong></div>
                    <div class="ui-block-b"></div>
                    <div class="ui-block-c"></div>
                    <div class="ui-block-d"></div>
                    <div class="ui-block-e"><strong>Agree</strong></div>
                    <div class="ui-block-a"><strong>1</strong>
                        <label>
                            <input type="radio" value="1" name="5radio-1">
                        </label>
                    </div>
                    <div class="ui-block-b"><strong>2</strong>
                        <label>
                            <input type="radio" value="2" name="5radio-2">
                        </label>
                    </div>
                    <div class="ui-block-c"><strong>3</strong>
                        <label>
                            <input type="radio" value="3" checked="checked" name="5radio-3">
                        </label>
                    </div>
                    <div class="ui-block-d"><strong>4</strong>
                        <label>
                            <input type="radio" value="4" name="5radio-4">
                        </label>
                    </div>
                    <div class="ui-block-e"><strong>5</strong>
                        <label>
                            <input type="radio" value="5" name="5radio-5">
                        </label>
                    </div>
                </div>
            </fieldset>
            <fieldset data-role="controlgroup" class="ui-bar ui-corner-all q" id="res6" data-type="horizontal">
                <div class="ui-grid-d">
                    <div class="ui-block-a"><strong>Disagree</strong></div>
                    <div class="ui-block-b"></div>
                    <div class="ui-block-c"></div>
                    <div class="ui-block-d"></div>
                    <div class="ui-block-e"><strong>Agree</strong></div>
                    <div class="ui-block-a"><strong>1</strong>
                        <label>
                            <input type="radio" value="1" name="6radio-1">
                        </label>
                    </div>
                    <div class="ui-block-b"><strong>2</strong>
                        <label>
                            <input type="radio" value="2" name="6radio-2">
                        </label>
                    </div>
                    <div class="ui-block-c"><strong>3</strong>
                        <label>
                            <input type="radio" value="3" checked="checked" name="6radio-3">
                        </label>
                    </div>
                    <div class="ui-block-d"><strong>4</strong>
                        <label>
                            <input type="radio" value="4" name="6radio-4">
                        </label>
                    </div>
                    <div class="ui-block-e"><strong>5</strong>
                        <label>
                            <input type="radio" value="5" name="6radio-5">
                        </label>
                    </div>
                </div>
            </fieldset>
            <fieldset data-role="controlgroup" class="ui-bar ui-corner-all q" id="res7" data-type="horizontal">
                <div class="ui-grid-d">
                    <div class="ui-block-a"><strong>Disagree</strong></div>
                    <div class="ui-block-b"></div>
                    <div class="ui-block-c"></div>
                    <div class="ui-block-d"></div>
                    <div class="ui-block-e"><strong>Agree</strong></div>
                    <div class="ui-block-a"><strong>1</strong>
                        <label>
                            <input type="radio" value="1" name="7radio-1">
                        </label>
                    </div>
                    <div class="ui-block-b"><strong>2</strong>
                        <label>
                            <input type="radio" value="2" name="7radio-2">
                        </label>
                    </div>
                    <div class="ui-block-c"><strong>3</strong>
                        <label>
                            <input type="radio" value="3" checked="checked" name="7radio-3">
                        </label>
                    </div>
                    <div class="ui-block-d"><strong>4</strong>
                        <label>
                            <input type="radio" value="4" name="7radio-4">
                        </label>
                    </div>
                    <div class="ui-block-e"><strong>5</strong>
                        <label>
                            <input type="radio" value="5" name="7radio-5">
                        </label>
                    </div>
                </div>
            </fieldset>
            <fieldset data-role="controlgroup" class="ui-bar ui-corner-all q" id="res8" data-type="horizontal">
                <div class="ui-grid-d">
                    <div class="ui-block-a"><strong>Disagree</strong></div>
                    <div class="ui-block-b"></div>
                    <div class="ui-block-c"></div>
                    <div class="ui-block-d"></div>
                    <div class="ui-block-e"><strong>Agree</strong></div>
                    <div class="ui-block-a"><strong>1</strong>
                        <label>
                            <input type="radio" value="1" name="8radio-1">
                        </label>
                    </div>
                    <div class="ui-block-b"><strong>2</strong>
                        <label>
                            <input type="radio" value="2" name="8radio-2">
                        </label>
                    </div>
                    <div class="ui-block-c"><strong>3</strong>
                        <label>
                            <input type="radio" value="3" checked="checked" name="8radio-3">
                        </label>
                    </div>
                    <div class="ui-block-d"><strong>4</strong>
                        <label>
                            <input type="radio" value="4" name="8radio-4">
                        </label>
                    </div>
                    <div class="ui-block-e"><strong>5</strong>
                        <label>
                            <input type="radio" value="5" name="8radio-5">
                        </label>
                    </div>
                </div>
            </fieldset>
            <fieldset data-role="controlgroup" class="ui-bar ui-corner-all q" id="res9" data-type="horizontal">
                <div class="ui-grid-d">
                    <div class="ui-block-a"><strong>Disagree</strong></div>
                    <div class="ui-block-b"></div>
                    <div class="ui-block-c"></div>
                    <div class="ui-block-d"></div>
                    <div class="ui-block-e"><strong>Agree</strong></div>
                    <div class="ui-block-a"><strong>1</strong>
                        <label>
                            <input type="radio" value="1" name="9radio-1">
                        </label>
                    </div>
                    <div class="ui-block-b"><strong>2</strong>
                        <label>
                            <input type="radio" value="2" name="9radio-2">
                        </label>
                    </div>
                    <div class="ui-block-c"><strong>3</strong>
                        <label>
                            <input type="radio" value="3" checked="checked" name="9radio-3">
                        </label>
                    </div>
                    <div class="ui-block-d"><strong>4</strong>
                        <label>
                            <input type="radio" value="4" name="9radio-4">
                        </label>
                    </div>
                    <div class="ui-block-e"><strong>5</strong>
                        <label>
                            <input type="radio" value="5" name="9radio-5">
                        </label>
                    </div>
                </div>
            </fieldset>
            <fieldset data-role="controlgroup" class="ui-bar ui-corner-all q" id="res10" data-type="horizontal">
                <div class="ui-grid-d">
                    <div class="ui-block-a"><strong>Disagree</strong></div>
                    <div class="ui-block-b"></div>
                    <div class="ui-block-c"></div>
                    <div class="ui-block-d"></div>
                    <div class="ui-block-e"><strong>Agree</strong></div>
                    <div class="ui-block-a"><strong>1</strong>
                        <label>
                            <input type="radio" value="1" name="10radio-1">
                        </label>
                    </div>
                    <div class="ui-block-b"><strong>2</strong>
                        <label>
                            <input type="radio" value="2" name="10radio-2">
                        </label>
                    </div>
                    <div class="ui-block-c"><strong>3</strong>
                        <label>
                            <input type="radio" value="3" checked="checked" ame="10radio-3">
                        </label>
                    </div>
                    <div class="ui-block-d"><strong>4</strong>
                        <label>
                            <input type="radio" value="4" name="10radio-4">
                        </label>
                    </div>
                    <div class="ui-block-e"><strong>5</strong>
                        <label>
                            <input type="radio" value="5" name="10radio-5">
                        </label>
                    </div>
                </div>
                <div class='ui-btn' id="sub">Submit</div>
            </fieldset>
        </form>

        <div class="container">
  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">

    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">

          <h4 class="modal-title" id = "winText"></h4>
        </div>
        <div class="modal-body">
          <p>Some text in the modal.</p>
        </div>
      </div>
      

  </div>
  
</div>
</body>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
 -->
<script type="text/javascript">
$(document).ready(function() {

    var ans;
    var userInfo = [];
    var scores = [];
    var questions = [
        'How important is traveling to different parts of the world',
        'Do you enjoy taking long road trips by car?',
        '1 being cats and 5 being dogs, which do you prefer?',
        '1 being the beach and 5 being the mountains, where would you rather go in the summer?',
        '1 being the beach and 5 being the mountains, where would you rather go in the summer?',
        '1 being the beach and 5 being the mountains, where would you rather go in the summer?',
        '1 being the beach and 5 being the mountains, where would you rather go in the summer?',
        '1 being the beach and 5 being the mountains, where would you rather go in the summer?',
        '1 being the beach and 5 being the mountains, where would you rather go in the summer?'
    ];

    for (i = 0; i < questions.length; i++) {
        var qText = $('<span>');
        $('#res' + i).append(questions[i])
    }
    $('#sub').on('click', function() {
        console.log('clicked')
        var name = $('#name').val().trim();
        var photo = $('#photo').val().trim();

        function MakeAnswerObj(n, p, s) {

            this.name = name;
            this.photo = photo;
            this.scores = scores
        }
        var radios = $("input[type='radio']");
        var checked = radios.filter(':checked');
        for (i = 0; i < checked.length; i++) {
            scores.push(parseInt(checked[i].value));
        }
        if (scores.length < 10) {
            alert("You've got to fill out all of the fields")
        } else {
            var answerObj = new MakeAnswerObj(name, photo, scores);
        }
        console.log('obj before  : ' + JSON.stringify(answerObj))
        jQuery.ajaxSettings.traditional = true;
        $.ajax({
            type: "POST",
            url: "/api/fiends",
            data: answerObj
        }).then(function(data) {
            if (data == true) {
                alert('Form Posted');
            }
            if (data == false) {
                alert('Sorry, form not posted');
            }
        }).then(function(err) {
            if (err) throw err;
            var currentUrl = window.location.origin;
            $.ajax({               
                url: currentUrl + "/api/match",
                method: "GET"
            }).then(function(data) {         
/*                console.log('442 obj' + JSON.stringify(data));*/
                console.log('442 str' + JSON.stringify(data));
                console.log('match data :' +(data[0].name));
                $('#winText').html(data[0].name);
                $("#myModal").modal()

            })
        })
/*        console.log('obj before  : ' + JSON.stringify(answerObj))*/
        answerObj = {};
        scores = [];
/*        console.log('obj after  : ' + JSON.stringify(answerObj))*/
    });

});
</script>

</html>
